[package]
name = "graph-rs-sdk"
version = "1.0.0"
authors = ["sreeise"]
edition = "2021"
readme = "README.md"
license = "MIT"
repository = "https://github.com/sreeise/graph-rs"
description = "Microsoft Graph Api Client"

exclude = [
    "test_files/*",
    "tests/*",
    "examples/*",
    "test-tools/*",
    "graph-codegen/*"
]
keywords = ["onedrive", "microsoft", "microsoft-graph", "api", "oauth"]
categories = ["authentication", "web-programming::http-client"]

[workspace]
members = [
    "graph-oauth",
    "graph-error",
    "test-tools",
    "graph-codegen",
    "graph-http",
    "graph-core",
]

[dependencies]
async-trait = "0.1"
base64 = "0.21.0"
futures = "0.3"
handlebars = "2.0.4" # TODO: Update to 4
reqwest = { version = "0.11.16", default-features=false, features = ["json", "gzip", "blocking", "stream"] }
serde = { version = "1", features = ["derive"] }
serde_json = "1"
serde_yaml = "0.9.19"
strum = { version = "0.24.1", features = ["derive"] }
rayon = "1"
tokio = { version = "1.27.0", features = ["full"] }
url = "2"
lazy_static = "1.4.0"

graph-oauth = { path = "./graph-oauth", version = "0.3.0" }
graph-http = { path = "./graph-http", version = "1.0.0", default-features=false }
graph-error = { path = "./graph-error", version = "0.2.0" }
graph-core = { path = "./graph-core", version = "0.4.0" }

[features]
default = ["native-tls"]
native-tls = ["reqwest/native-tls", "graph-http/native-tls"]
rustls-tls = ["reqwest/rustls-tls", "graph-http/rustls-tls"]
brotli = ["reqwest/brotli"]
deflate = ["reqwest/deflate"]
trust-dns = ["reqwest/trust-dns"]

[dev-dependencies]
bytes = { version = "1.4.0" }
futures = "0.3"
lazy_static = "1.4"
warp = "0.3.3"
http = "0.2"

graph-codegen = { path = "./graph-codegen", version = "0.0.1" }
test-tools = { path = "./test-tools", version = "0.0.1" }

[profile.release]
debug = false
